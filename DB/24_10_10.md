# Database
## 개요
### 데이터베이스 
체계적인 데이터 모음
### 데이터
저장이나 처리에 효율적인 형태로 변환된 정보
### 증가하는 데이터 사용량
- 배달의 민족 국내 주문 건수 6억 8천만건 (2020)
- 구독자 2억 3840만명이 1000억 시간 넷플릭스 시청 (2023 1~6월)
- 전세계 모든 데이터의 약 90%는 2015년 이후 생산된 것 (IBM)
### 데이터 센터의 성장
- 네이버 - 제 2데이터센터에 6500억 투자 (2020)
- 카카오 - 제 1데이터센터와 제 2데이터 센터에 1.5조 투자 (2022)
- 전 세계 데이터 센터 시장 2022년부터 2026까지 연평균 20%이상 성장 예상

### > 데이터를 저장하고 잘 관리하여 활용할 수 있는 기술이 중요해짐
- 우리가 알고 있는 데이터 저장 방식은 어떤 것이 있을까?

### 기존의 데이터 저장 방식
1. 파일 이용
2. 스프레드 시트 이용

### 1. 파일을 이용한 데이터 관리
- 어디에서나 쉽게 사용 가능
- 데이터를 구조적으로 관리하기 어려움

    ![스크린샷 2024-10-09 222448](https://github.com/user-attachments/assets/e199c4c5-d555-466e-b567-a5e795f84cba)

### 2. 스프레드 시트를 이용한 데이터 관리
- 테이블의 열과 행을 사용해 데이터를 구조적으로 관리 가능
![스크린샷 2024-10-09 223019](https://github.com/user-attachments/assets/bba0b2c6-8caf-465a-ba6f-0b8ce12c4d30)

#### 스프레드 시트의 한계
- 크기
    - 일반적으로 100만 행까지만 저장가능
- 보안
    - 단순히 파일이나 링크 소유 여부에 따른 단순한 접근 권한 기능 제공
- 정확성
    - 만약 공식적으로 "강원"의 지명이 "강언"으로 바뀌었다고 가정한다면? 
    - 이 변경으로 인해 테이블 모든 위치에서 해당 값을 업데이트 해야 함
    - 찾기 및 바꾸기 기능을 사용해 바꿀 수 있지만 만약 데이터가 여러 시트에 분산되어 있다면 변경에 누락이 생기거나 추가 문제가 발생할 수 있음

### 데이터베이스 역할
- 데이터를 저장하고 조작 CRUD

# Relational Database
## 개요
### 관계형 데이터베이스
데이터 간에 관계가 있는 데이터 항목들의 모음
- 테이블, 행, 열의 정보를 구조화하는 방식
- 서울 관련된 데이터 포인터를 저장하고 이에 대한 엑세스를 제공

    ![스크린샷 2024-10-09 234523](https://github.com/user-attachments/assets/0533bd85-1b3b-4918-ad03-644e2d6bf991)

### 관계
여러 테이블 간의 (논리적) 연결
- 이관계로 인해 두 테이블을 사용하여 데이터를 다양한 형식으로 조회할 수 있음
    - 특정 날짜에 구매한 모든 고객 조회
    - 지난 달에 배송일이 지연된 고객 조회 등
    ![스크린샷 2024-10-09 234523](https://github.com/user-attachments/assets/0533bd85-1b3b-4918-ad03-644e2d6bf991)

### 관계형 데이터베이스 예시(1/4)
- 다음과 같이 고객 데이터가 테이블에 저장되어 있다고 가정
- 고객 데이터 간 비교를 위해서는 어떤 값을 활용해야 할까?
-> 이름? 주소? 만약 동명이인이나 같은 주소지가 있다면?

![스크린샷 2024-10-09 235150](https://github.com/user-attachments/assets/4d371a0f-b734-49c9-8331-3d15a520f098)

### 관계형 데이터베이스 예시(2/4)
- 다음과 같이 고객 데이터가 테이블에 저장되어 있다고 가정
- 고객 데이터 간 비교를 위해서는 어떤 값을 활용해야 할까?
    - 각 데이터에 고유한 식별 값을 부여하기 (기본 키, Primary Key)

![스크린샷 2024-10-09 235334](https://github.com/user-attachments/assets/8d23c7ce-50bd-4034-ab17-68666070b422)

### 관계형 데이터베이스 예시(3/4)
- 다음과 같이 각 고객이 주문한 주문데이터가 테이블에 자장되어 있다고 사정
- 누가 어떤 주문을 했는지 어떻게 식별할 수 있을까?
    - 고객 이름? 마찬가지로 동명이인이 있다면?

![스크린샷 2024-10-09 235455](https://github.com/user-attachments/assets/1d195ce6-90f4-4ba3-b07d-38734822a996)

### 관계형 데이터베이스 예시(4/4)
- 다음과 같이 각 고객이 주문한 주문데이터가 테이블에 자장되어 있다고 사정
- 누가 어떤 주문을 했는지 어떻게 식별할 수 있을까?
    - 주문 정보에 고객의 고유한 식별 값을 저장하기 (외래 키, Foreign Key)

![스크린샷 2024-10-09 235659](https://github.com/user-attachments/assets/4609c795-eae8-4293-a9f7-49206e10ae8b)

### 관계형 데이터베이스 관련 키워드 (1/6)
1. Table (aka Relation)
- 데이터를 기록하는 곳
![스크린샷 2024-10-09 235813](https://github.com/user-attachments/assets/924c0541-bb59-4ec0-a38f-b955bd95de1e)

2. Foeld (aka Column, Attribute)
- 각 필드에는 고유한 데이터 형식이 지정됨

![스크린샷 2024-10-09 235940](https://github.com/user-attachments/assets/38c40a71-349f-4371-aba7-08e6390c2a94)

3. Record (aka Row, Tuple)
- 각 레코드에는 구체적인 데이터 값이 저장됨

![스크린샷 2024-10-10 000035](https://github.com/user-attachments/assets/73a4525a-445b-4e41-b17d-25538cbc7d9d)

4. Database (aka Schema)
- 테이블의 집합

![스크린샷 2024-10-10 000132](https://github.com/user-attachments/assets/2a85762f-61fe-49e7-b182-55a82eac5004)

5. Primary Key(기본 키, PK)
- 각 레코드의 고유한 값
- 관계형 데이터베이스에서 레코드의 식별자로 활용

![스크린샷 2024-10-10 000241](https://github.com/user-attachments/assets/5159cdea-6860-4b9c-90e0-65b5e7b07da4)

6. Foreign Key (외래 키, FK)
- 테이블의 필드 중 다른 테이블의 레코드를 식별할 수 있는 키
- 다른 테이블의 기본 키를 참조
- 각 레코드에서 서로 다른 테이블 간의 관계를 만드는 데 사용

![스크린샷 2024-10-10 000352](https://github.com/user-attachments/assets/2d5c4079-384b-4583-9a79-42ce80f74f1a)

# RDBMS
## DBMS
데이터베이스를 관리하는 소프트웨어 프로그램

- 데이터 저장 및 관리를 용이하게 하는 시스템
- 데이터베이스와 사용자 간의 인터페이스 역할
- 사용자가 데이터 구성, 업데이트, 모니터링, 백업, 복구 등을 할 수 있도록 도움

## RDBMS
관계형 데이터베이스를 관리하는 소프트웨어 프로그램

### RDBMS 서비스 종류

- SQLite
- MySQL
- PostgreSQL
- Oracle Database

![스크린샷 2024-10-10 000828](https://github.com/user-attachments/assets/f708bc62-9ab4-47a3-8811-12241156ddc0)

경량의 오픈 소스 데이터베이스 관리 시스템
-> 컴푸터나 모바일 기기에 내장되어 간단하고 효율적인 데이터 저장 및 관리를 제공

### 데이터베이스 정리

- Table은 데이터가 기록되는 곳
- Table에는 행에서 고유하게 식별 가능한 기복 키라는 속성이 있으며, 외래 키를 사용하여 각 행에서 서로 다른 테이블 간의 관계를 만들 수 있음
- 데이터는 기본 키 또는 외래 키를 통해 결합(join)될 수 있는 여러 테이블에 걸쳐 구조화 됨

# SQL
## 개요
### SQL
데이터베이스에 정보를 저장하고 처리하기 위한 프로그래밍 언어

### SQL
structure Query Language

데이터베이스에 정보를 저장하고 처리하기 위한 프로그래밍 언어
- 관계형 데이터베이스와의 대화를 위해 사용하는 프로그래밍 언어

### SQL Syntax
![스크린샷 2024-10-10 001321](https://github.com/user-attachments/assets/11900233-0ce7-46f7-b56c-0834b76fa910)

1. SQL 키워드는 대소문자를 구분하지 않음
    - 하지만 대문자로 작성하는 것을 권장 (명시적 구분)
2. 각 SQL Srarements의 끝에는 세미콜론(';')이 필요
    - 세미콜론은 각 SQL Statements을 구분하는 방법 (명령의 마침표)

### SQL Statements
SQL을 구성하는 가장 기본적인 코드 블록
### SQL Statements 예시
![스크린샷 2024-10-10 001321](https://github.com/user-attachments/assets/11900233-0ce7-46f7-b56c-0834b76fa910)
- 해당 예시 코드는 SELECT Statement라 부름
- 이 Statement는 SELECT, FROM 2개의 keyword로 구성 됨

### 수행 목적에 따른 SQL Statements 4가지 유형
1. DDL - 데이터 정의
2. DQL - 데이터 검색
3. DML - 데이터 조작
4. DCL - 데이터 제어

![스크린샷 2024-10-10 001846](https://github.com/user-attachments/assets/8718c555-e660-4db4-ba93-119591ef079d)

### SQL 학습
- 단순히 SQL 문법을 암기하고 상황에 따라 실행만 하는 것이 아닌 SQL을 통해 관계형 데이터베이스를 잘 이해하고 다루는 방법을 학습

# 참고
## Query
- "데이터 베이스로부터 정보를 요청" 하는 것
- 일반적으로 SQL로 작성하는 코드를 쿼리문(SQL문)이라 함

## SQL 표준

- SQL은 미국 국립 표준 협회 (ANSI)와 국제 표준화 기구 (ISO)에 의해 표준이 채택됨
- 모든 RDBMS에서 SQL 표준을 지원
- 다만 각 RDBMS마다 독자젇인 기능에 따라 표준을 벗어나는 문법이 존재하니 주의

# Single Table Queries
## SQL Statements 유형

![스크린샷 2024-10-10 002349](https://github.com/user-attachments/assets/51d8ac30-00d7-4d77-94b7-6564c0a99b26)

# Query data
## SELECT
### SELECT Statements
- 테이블에서 데이터를 조회

### SELECT syntax
![스크린샷 2024-10-10 002531](https://github.com/user-attachments/assets/e45e3232-bcda-4f85-ac87-b49ed29b4fbe)
- SELECT 키워드 이후 데이터를 선택하려는 필드를 하나 이상 지정
- FROM 키워드 이후 데이터를 선택하려는 테이블의 이름을 지정

### SELECT 활용1
테이블 employees에서 LastName 필드의 모든 데이터를 조회

![스크린샷 2024-10-10 002715](https://github.com/user-attachments/assets/f8bb5704-166e-437f-97af-aaa425ebab4d)

테이블 employees에서 LastName 필드의 모든 데이터를 조회
![스크린샷 2024-10-10 002810](https://github.com/user-attachments/assets/c6099195-8e2d-4e2e-973f-bbd24532f108)

### SELECT 활용2
테이블 employees에서 LastName, FirstName 필드의 모든 데이터를 조회

![스크린샷 2024-10-10 002930](https://github.com/user-attachments/assets/61ba02f5-ce68-485c-979c-a7f1b3431591)

테이블 employees에서 LastName, FirstName 필드의 모든 데이터를 조회
![스크린샷 2024-10-10 002936](https://github.com/user-attachments/assets/32ea5704-2688-4e8c-b9b0-800abcb06620)

### SELECT 활용3
테이블 employees에서 모든 필드 데이터를 조회

![스크린샷 2024-10-10 003105](https://github.com/user-attachments/assets/a1f6e836-4d1d-492d-9a58-b0496aeef32b)

테이블 employees에서 모든 필드 데이터를 조회
![스크린샷 2024-10-10 003111](https://github.com/user-attachments/assets/92531c7a-b477-4da8-9839-e595e2d9b2f1)

### SELECT 활용4
테이블 employees에서 FirstName 필드의 모든 데이터를 조회
(단, 조회 시 FirstName이 아닌 '이름'으로 출력될 수 있도록 변경)

![스크린샷 2024-10-10 003249](https://github.com/user-attachments/assets/26574f41-5007-464b-9926-abe8fbf40643)

테이블 employees에서 FirstName 필드의 모든 데이터를 조회
(단, 조회 시 FirstName이 아닌 '이름'으로 출력될 수 있도록 변경)

![스크린샷 2024-10-10 003256](https://github.com/user-attachments/assets/27b678a8-73c7-4670-93ff-facd39add0a4)

### SELECT 활용4
테이블 tracks에서 Name, Milliseconds 필드의 모든 데이터를 조회
(단, Milliseconds 필드는 60000으로 나눠 분 단위 값으로 출력)

![스크린샷 2024-10-10 003448](https://github.com/user-attachments/assets/c0eecc81-cea4-40f4-88bd-ac332dda84dd)

테이블 tracks에서 Name, Milliseconds 필드의 모든 데이터를 조회
(단, Milliseconds 필드는 60000으로 나눠 분 단위 값으로 출력)

![스크린샷 2024-10-10 003454](https://github.com/user-attachments/assets/0725eeb3-94ce-41e9-bb6c-1c2417cf525b)

### SELECT 정리
- 테이블의 데이터를 조회 및 반환
- '*' (asterisk)를 사용하여 모든 필드 선택

# Sorting data
## ORDER BY
### ORDER BY statement
- 조회 결과의 레코드를 정렬

### ORDER BY syntax
![스크린샷 2024-10-10 003803](https://github.com/user-attachments/assets/d63ebb6f-d942-4590-8023-96c105ae881d)
- FROM clause 뒤에 위치
- 하나 이상의 컬럼을 기준으로 결과를 오름차순(ASC, 기본 값), 내림차순(DESC)으로 정렬

### ORDER BY 활용1
테이블 employees에서 FirstName 필드의 모든 데이터를 오름차순으로 조회

![스크린샷 2024-10-10 004010](https://github.com/user-attachments/assets/1ad31484-13a1-4db1-aa05-e24498184649)

테이블 employees에서 FirstName 필드의 모든 데이터를 오름차순으로 조회
![스크린샷 2024-10-10 004014](https://github.com/user-attachments/assets/8f55dbbf-31c1-4ca5-b66e-92a356f3e00c)

### ORDER BY 활용2
테이블 employees에서 FirstName 필드의 모든 데이터를 내림차순으로 조회

![스크린샷 2024-10-10 004121](https://github.com/user-attachments/assets/50a0b9b9-f593-4d49-9551-075e07632634)

테이블 employees에서 FirstName 필드의 모든 데이터를 내림차순으로 조회
![스크린샷 2024-10-10 004126](https://github.com/user-attachments/assets/381180c7-a315-41fc-917a-b44db90e3056)

### ORDER BY 활용3
테이블 customers에서 country 필드를 기준으로 내림차순 정렬한 다음 City 필드 기준으로 오름차순 정렬하여 조회

![스크린샷 2024-10-10 004258](https://github.com/user-attachments/assets/4b49f59b-b4ab-4242-85e7-876be9bba867)

테이블 customers에서 country 필드를 기준으로 내림차순 정렬한 다음 City 필드 기준으로 오름차순 정렬하여 조회
![스크린샷 2024-10-10 004306](https://github.com/user-attachments/assets/6cc01651-ed26-44e0-b8f2-ba9ab3d68b71)

### ORDER BY 활용4
테이블 tracks에서 Milliseconds 필드를 기준으로 내림차순 정렬한 다음 Name, Milliseconds 필드의 모든 데이터를 조회 
(단, Milliseconds 필드는 60000으로 나눠 분 단위 값으로 출력)

![스크린샷 2024-10-10 004615](https://github.com/user-attachments/assets/d84e83d9-6986-4ea1-ba59-610ca209d610)
테이블 tracks에서 Milliseconds 필드를 기준으로 내림차순 정렬한 다음 Name, Milliseconds 필드의 모든 데이터를 조회 
(단, Milliseconds 필드는 60000으로 나눠 분 단위 값으로 출력)

![스크린샷 2024-10-10 004609](https://github.com/user-attachments/assets/d93874f6-01fa-4640-a94c-220331c50b6f)

### 정렬에서의 NULL
NULL 값이 존재할 경우 오름차순 정렬 시 결과에 NULL이 먼저 출력
![스크린샷 2024-10-10 004710](https://github.com/user-attachments/assets/ed972c3c-5512-4fb8-bc3f-426ec2f1d2f9)![스크린샷 2024-10-10 004716](https://github.com/user-attachments/assets/a2006f0e-067c-4f6c-b030-d856af48b062)

### SELECT statement 실행순서
![스크린샷 2024-10-10 004810](https://github.com/user-attachments/assets/1ce67cbd-0030-4b69-be17-288fb234a7c8)
1. 테이블에서 (FROM)
2. 조회하여 (SELECT)
3. 정렬 (ORDER BY)

# Filtering data
## Filtering data 관련 Keywords
- clause
    - DISTINCT
    - WHERE
    - LIMIT
- Operator
    - BETWEEN
    - IN
    - LIKE
    - Comparison
    - Logical
## DISTINCT
### DISTINCT statements
조회 결과에서 중복된 레코드를 제거

### DISTINCT syntax
![스크린샷 2024-10-10 005253](https://github.com/user-attachments/assets/46417615-c92f-4395-bd1b-2a53f85b3546)
- SELECT 키워드 바로 뒤에 작성해야 함
- SELECT DISTINCT 키워드 다음에 고유한 값을 선택하려는 하나 이상의 필드를 지정

### DISTINCT 활용1
테이블 customers에서 country 필드의 모든 데이터를 오름차순으로 조회

![스크린샷 2024-10-10 005537](https://github.com/user-attachments/assets/d1c26131-ae58-440d-aeca-81d45c8e2245)

테이블 customers에서 country 필드의 모든 데이터를 오름차순으로 조회
![스크린샷 2024-10-10 005541](https://github.com/user-attachments/assets/419488c9-c95b-4aa8-94a9-6b5a60fe756b)

### DISTINCT 활용2
테이블 customers에서 country 필드의 모든 데이터를 중복없이 오름차순으로 조회

![스크린샷 2024-10-10 005656](https://github.com/user-attachments/assets/fe4f8fa5-b43e-4b1e-8c0f-9bfb2950a040)

테이블 customers에서 country 필드의 모든 데이터를 중복없이 오름차순으로 조회

![스크린샷 2024-10-10 005701](https://github.com/user-attachments/assets/4943993e-9353-46ac-8cac-b730d1bb05b0)

## WHERE
### WHERE statements
- 조회 시 특정 검색 조건을 지정

### WHERE syntax
![스크린샷 2024-10-10 005955](https://github.com/user-attachments/assets/1a694605-bacb-4447-bda7-24c2d263eaf2)
- FROM clause 바로 뒤에 작성해야 함
- search_condition은 비교 연산자 및 논리 연산자(and, or, not 등)를 사용하는 구문이 사용됨
